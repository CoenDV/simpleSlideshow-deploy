kind: Deployment
apiVersion: apps/v1
metadata:
  name: videoservice
spec:
  replicas: 1
  selector:
    matchLabels:
      app: videoservice
  template:
    metadata:
      labels:
        app: videoservice
    spec:
      containers:
        - name: videoservice
          image: "ghcr.io/coendv/group1-videoservice:dev"
          ports:
            - containerPort: 8085
              protocol: TCP
          env:
            - name: DB_HOST
              value: videoservice-postgresql
            - name: DB_PORT
              value: "5435"
            - name: DB_NAME
              value: videoservice
            - name: DB_USER
              value: postgres
            - name: DB_PASSWORD
              value: postgres
            - name: DATABASE_URL
              value: postgresql://postgres:postgres@videoservice-postgresql:5435/videoservice
            # ToDo: Replace with secrets management
            - name: MUX_TOKEN_ID
              value: "cf7166ce-9017-4f6f-a62c-a794665ccb66"
            - name: MUX_TOKEN_SECRET
              value: "hkv45o8kuUwaAUE0Yxm6wZk8H/3jHCw8d1xDPqzAetlA+i1pnK9V+EiQB4mgODR96kAXZVciUhZ"
            - name: MUX_WEBHOOK_SECRET
              value: "e84qshv104n9bhv2bju08ks5pqapdmf4"
            - name: MUX_STREAM_HOST
              value: "stream.mux.com"
            - name: MUX_SIGNING_KEY_ID
              value: "NuureWsWhiOzYa8ZaQ9wHQ6J4Zc6ZCwISqo02Gc6TKsQ"
            - name: MUX_SIGNING_KEY_SECRET
              value: "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBMlFQblh3NFBjNCt4Yy9XS2RCcjhBU0ZxamtHazlIVFMrTmFnUFA2OUJ1VFBJZGxlCk5TaUF6bndXQlFuQ2xueWkzRXNJbDJ0MWZaOVVhTDZ5WUU0Q0tucC9GK1VkcGxFaDhnZGFxeVlIVzlsWW9iajcKZTNHbFNDSzgyTElBSFdBV25QbTZrUS9sM2UwdWVxclFzOWlmUlZoRW8ycC9WRmZHbGJDLy9hb0tKY1VEOTRqWgptemVLRHBoNktzSFJLblkxRi91L0FoQnQ2YW5CR1h6czJydUgrazJCRjFGTy9udGxJQWMwMHk0UVlKSlA0S3hBClg5dEJSZXI2K3V1eFFrTWJEeGNuQ3N5Z3MwczJrKzVhTm9PR1NJbU16YjJldUt2M0FPNjJUdEF3cWZVdlJmSlEKak01eStobkYrN1dYQUtUVGJBMWE4MGlSWlczemFkckFpMzVTendJREFRQUJBb0lCQUZNbkYwY0pWS3RUY2t1NwoyRTdQcmlMaXduajZ0ekdCOS9xb0JtTUl1clpEQXdqMXlJNjIwOUFLcE1kT2E1U004anhWdGRlTE1jd3VPa0llClc2dmlDQnR0cjNnZzdzRDFFbnd5RERCTEZJUEJucC90Q05OT2d1WEdoYlRFVTUzdDNReE45Z295WE1JeDZON1EKeDhJNXJTRjlobU5WWWErWUtIdmY2MWpQaUM3YS93cUxRMG1uMk1mbDVZeE9ZV014WE4vNU9RUXp3OWlEcDFZbgo2Mjd2dWdadUJYRE5VbmpsQkZzZDBZWVkzQU1XOEcvUkZrOEZXd05hTFpJSC9vVDlLVG44WUc0Z0JlZVhsSUhzCnRwYm5LeEIvei8wRHMwWDRJaEVQYTUxWWptdUp3b2xkYXdGeS94MktLSHhJMEpBVEV5aEJ1T1M5RzNKeW02cnoKR2lsTk5YVUNnWUVBMlpVOVhJUnhNZVZCaHBGcWtOc3g2UGYvTGtKNEdwb0t6UmM4TG1mNDZDR0VUZ2lnSkVnaApZaStYTUl1RDcwOUxXSlBTK3QwRENES3BlTVVsWk5Xc0RKM2FvNERtMHpMNkcyWS9wYUdoNVRJSkl0N3RxNTBwCk1Wa2VtVlBsTWxzZEtQQ21UdG1ZaW5aem40WmlKd0tTUWVUVFYyWVZneUtURjc5UzgxZDBiTDBDZ1lFQS8xVUEKMGd2Q0dxWjRlMTl2eGEzSnRtZVU4Q2ViWWlBOG1sbU9aNnlFQjhYOG0xQkdvWlZjdWN3VHRYb2c4Z0ZFWnQzVgp5ZS9lVGJ0NVV4R0RFZmE3L1MvRUcyZ1doYWpBNnpWQk5md1Q5dy9RdE1DV24zTU1FUXdXSkl2LzY0aW1iWFcxCi9EZDhENisyVEZENEd6Qzg2cStzdGdYRktXOGlZYmxBOUJ0SnBIc0NnWUVBMXFVUFg1R1lTV3lzYzZCSXpKWXcKYW04Y1lmcFltWVdWV2pXdHZPbjg5cUw1N2pFOEtnNnVRRHBLb0MxQi9uYnZFWGJqRDIrd2FnbndmWitmQUJaNgpJQWdwaEZySlcxaFN1MnpuSlBLS3o1dkl2NG5FVlNRNVd1RmIrazUxTUhRS0ZEVXpHMTQxeVlLSkZicHdZYU43CnZWMkwwQkI0OEdEUFV3SC9SdWZqaHRFQ2dZRUFxK3N4TFR5cmlrUXlkV2R5RzlrREsyVWRISUtlbGZoOHRiUzkKTk1Nczl3cnhKaVpzR0ZvNFlBV3Y4NDV5NWwvQ0RiMHFPTmpnaHRoSFBZNWFBVnR2Z20rS0RLWU9IQnJmSXIvdAowNHFTYXRUa1F3QTFxdERNL0NGMk8wOWtsdE9nczYwQlJ2eVk5UHJydFFFRHZWTVlzTEJ1aXZUaHB4OWtPQWFEClhKbVBBVWNDZ1lBRXJGRjc4T3RHa3ZaNUsvcVljRnNtREdueWE4aEhCRS8wdE9hNG5WUUFHMVdTb1Z4ZUI1cXEKS3d6YWVvSjgrWnlUZDIxaXJ1OFZxcnFvTTB5WEVOQ1AyMWJlcm13RkxmQVYvV3A1VExpcnRtWjJ0cVVCNVZ2VgpCVWxvWld2SldHV2dCdmlXeUF1THZWMmNWakVEa2d6VGd2bjFabzFIOWZiT3BFMEhSaDk5Smc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo"
